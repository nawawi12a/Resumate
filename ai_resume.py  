import streamlit as st
from ai_resume import generate_resume, generate_cover_letter

# App title and description
st.set_page_config(page_title="AI-Powered Resume Builder", page_icon="ðŸ“„", layout="wide")
st.title("ðŸ“„ AI-Powered Resume Builder")
st.write("Create professional resumes and cover letters in minutes!")

openai.api_key = "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"

# Sidebar for user input
with st.sidebar:
    st.header("Enter Your Details")
    job_title = st.text_input("Job Title", placeholder="e.g., Software Engineer")
    skills = st.text_area("Skills", placeholder="e.g., Python, JavaScript, React")
    experience = st.number_input("Years of Experience", min_value=0, max_value=50, value=1)
    company = st.text_input("Company Name (for cover letter)", placeholder="e.g., Google")

# Generate Resume
if st.button("Generate Resume"):
    if job_title and skills and experience:
        with st.spinner("Generating your resume..."):
            resume = generate_resume(job_title, skills, experience)
            st.subheader("Your AI-Generated Resume")
            st.write(resume)
            st.download_button("Download Resume", resume, file_name="resume.txt")
    else:
        st.error("Please fill in all fields.")

# Generate Cover Letter
if st.button("Generate Cover Letter"):
    if job_title and skills and experience and company:
        with st.spinner("Generating your cover letter..."):
            cover_letter = generate_cover_letter(job_title, company, skills, experience)
            st.subheader("Your AI-Generated Cover Letter")
            st.write(cover_letter)
            st.download_button("Download Cover Letter", cover_letter, file_name="cover_letter.txt")



if st.button("Improve Resume with AI"):
    with st.spinner("Analyzing your resume..."):
        # Call your AI function here
        improved_resume = improve_resume_with_ai(resume_text)
        st.subheader("Improved Resume")
        st.write(improved_resume)
        st.download_button("Download Improved Resume", improved_resume, file_name="improved_resume.txt")

            
    else:
        st.error("Please fill in all fields.")